<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CoC - Compare or Convert</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--bg-primary:#fff;--bg-secondary:#f7f9fc;--bg-tertiary:#eef2f7;--text-primary:#1a202c;--text-secondary:#4a5568;--text-tertiary:#718096;--border-color:#cbd5e0;--border-hover:#a0aec0;--accent-compare:#e53e3e;--accent-compare-hover:#c53030;--accent-compare-light:#fff5f5;--accent-convert:#38a169;--accent-convert-hover:#2f855a;--accent-convert-light:#f0fff4;--shadow:0 1px 3px rgba(0,0,0,.1);--shadow-lg:0 10px 25px rgba(0,0,0,.15)}
[data-theme=dark]{--bg-primary:#1a202c;--bg-secondary:#2d3748;--bg-tertiary:#4a5568;--text-primary:#f7fafc;--text-secondary:#e2e8f0;--text-tertiary:#cbd5e0;--border-color:#4a5568;--border-hover:#718096;--accent-compare:#fc8181;--accent-compare-hover:#feb2b2;--accent-compare-light:#2d1b1e;--accent-convert:#68d391;--accent-convert-hover:#9ae6b4;--accent-convert-light:#1c3129;--shadow:0 1px 3px rgba(0,0,0,.5);--shadow-lg:0 10px 25px rgba(0,0,0,.7)}
body{font-family:Inter,-apple-system,sans-serif;background:var(--bg-primary);color:var(--text-primary);line-height:1.6;transition:background-color .3s,color .3s}
.landing{min-height:100vh;display:flex;flex-direction:column}
.landing.hidden{display:none}
.header{padding:1.5rem 2rem;background:var(--bg-secondary);border-bottom:1px solid var(--border-color);display:flex;justify-content:space-between;align-items:center}
.logo h1{font-size:2rem;font-weight:800;color:var(--text-primary)}
.logo p{font-size:.875rem;color:var(--text-secondary);margin-top:.25rem}
.theme{display:flex;align-items:center;gap:.75rem}
.theme-label{font-size:.875rem;color:var(--text-secondary);font-weight:500}
.toggle{width:56px;height:28px;background:var(--bg-tertiary);border:2px solid var(--border-color);border-radius:14px;cursor:pointer;position:relative;transition:all .3s}
.toggle:hover{border-color:var(--border-hover)}
.slider{position:absolute;top:2px;left:2px;width:20px;height:20px;background:var(--text-primary);border-radius:50%;transition:transform .3s}
[data-theme=dark] .slider{transform:translateX(28px)}
.main{flex:1;display:grid;grid-template-columns:1fr 1fr}
.mode{padding:4rem 2.5rem;display:flex;flex-direction:column;align-items:center;text-align:center;cursor:pointer;transition:all .3s;border-right:1px solid var(--border-color)}
.mode:last-child{border-right:none}
.mode:hover{background:var(--bg-secondary);transform:translateY(-5px)}
.icon{width:100px;height:100px;display:flex;align-items:center;justify-content:center;font-size:3rem;margin-bottom:1.5rem;border-radius:20px}
.compare .icon{background:var(--accent-compare-light);color:var(--accent-compare)}
.convert .icon{background:var(--accent-convert-light);color:var(--accent-convert)}
.title{font-size:2.5rem;font-weight:800;margin-bottom:1rem}
.compare .title{color:var(--accent-compare)}
.convert .title{color:var(--accent-convert)}
.desc{font-size:1rem;color:var(--text-secondary);max-width:350px;margin-bottom:1.5rem;line-height:1.7}
.features{list-style:none;margin-bottom:2rem;text-align:left}
.features li{padding:.5rem 0;color:var(--text-secondary);font-size:.938rem}
.features li::before{content:'‚úì ';font-weight:700}
.compare .features li::before{color:var(--accent-compare)}
.convert .features li::before{color:var(--accent-convert)}
.mode-btn{padding:1rem 2.5rem;font-size:1rem;font-weight:600;border:none;border-radius:8px;cursor:pointer;color:#fff;transition:all .3s}
.compare .mode-btn{background:var(--accent-compare)}
.compare .mode-btn:hover{background:var(--accent-compare-hover)}
.convert .mode-btn{background:var(--accent-convert)}
.convert .mode-btn:hover{background:var(--accent-convert-hover)}
.work{display:none;min-height:100vh;flex-direction:column}
.work.active{display:flex}
.work-header{padding:1.25rem 2rem;background:var(--bg-secondary);border-bottom:1px solid var(--border-color);display:flex;justify-content:space-between;align-items:center}
.back{background:var(--bg-primary);border:2px solid var(--border-color);color:var(--text-primary);padding:.75rem 1.5rem;font-size:.938rem;font-weight:600;border-radius:6px;cursor:pointer;transition:all .3s}
.back:hover{border-color:var(--border-hover)}
.work-title{font-size:1.5rem;font-weight:700}
.work-title.cmp{color:var(--accent-compare)}
.work-title.cnv{color:var(--accent-convert)}
.format-bar{padding:1rem 2rem;background:var(--bg-tertiary);border-bottom:1px solid var(--border-color);display:flex;gap:2rem;align-items:center}
.format-label{font-size:.875rem;font-weight:600;color:var(--text-secondary)}
.check{display:flex;align-items:center;gap:.5rem}
.check input{width:18px;height:18px;cursor:pointer}
.check label{font-size:.938rem;font-weight:500;color:var(--text-primary);cursor:pointer}
.content{flex:1;padding:2.5rem;background:var(--bg-secondary)}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:2rem;margin-bottom:2rem}
.panel{background:var(--bg-primary);border:2px solid var(--border-color);border-radius:8px;overflow:hidden;transition:all .3s}
.panel:focus-within{border-color:var(--accent-compare)}
.panel-header{padding:1rem 1.5rem;background:var(--bg-tertiary);border-bottom:1px solid var(--border-color);font-size:.875rem;font-weight:600;display:flex;justify-content:space-between}
.char{color:var(--text-secondary)}
textarea{width:100%;min-height:400px;background:var(--bg-primary);border:none;padding:1.5rem;color:var(--text-primary);font-family:'Courier New',monospace;font-size:.875rem;line-height:1.6;resize:vertical}
textarea:focus{outline:none}
textarea::placeholder{color:var(--text-tertiary)}
.actions{display:flex;gap:1rem;justify-content:center;margin-bottom:2.5rem}
.btn{padding:1rem 2rem;font-size:1rem;font-weight:600;border-radius:8px;cursor:pointer;transition:all .3s}
.btn-primary{border:none;color:#fff}
.btn-primary.cmp{background:var(--accent-compare)}
.btn-primary.cmp:hover{background:var(--accent-compare-hover)}
.btn-primary.cnv{background:var(--accent-convert)}
.btn-primary.cnv:hover{background:var(--accent-convert-hover)}
.btn-secondary{background:var(--bg-primary);border:2px solid var(--border-color);color:var(--text-primary)}
.btn-secondary:hover{border-color:var(--border-hover)}
.controls{display:grid;grid-template-columns:1fr auto 1fr;gap:2rem;align-items:center;margin-bottom:2rem}
.selector{background:var(--bg-primary);border:2px solid var(--border-color);border-radius:8px;padding:1.5rem}
.selector label{display:block;font-size:.875rem;font-weight:600;color:var(--text-secondary);margin-bottom:.75rem}
.selector select{width:100%;background:var(--bg-tertiary);border:2px solid var(--border-color);color:var(--text-primary);padding:.875rem;font-size:1rem;font-weight:500;border-radius:6px;cursor:pointer}
.selector select:focus{outline:none;border-color:var(--accent-convert)}
.arrow{font-size:2rem;color:var(--accent-convert);font-weight:700}
.panel.out{background:var(--bg-tertiary)}
.results{display:none}
.results.active{display:block}
.stats{display:grid;grid-template-columns:repeat(4,1fr);gap:1.5rem;margin-bottom:2.5rem}
.stat{background:var(--bg-primary);border:2px solid var(--border-color);border-radius:8px;padding:1.5rem;text-align:center}
.stat-val{font-size:2.5rem;font-weight:800;color:var(--accent-compare)}
.stat-label{font-size:.875rem;font-weight:600;color:var(--text-secondary);margin-top:.5rem}
.section{background:var(--bg-primary);border:2px solid var(--border-color);border-left:6px solid;border-radius:8px;padding:2rem;margin-bottom:1.5rem}
.section.missing{border-left-color:var(--accent-compare)}
.section.validation{border-left-color:#f59e0b}
.section.mismatch{border-left-color:#3b82f6}
.section-header{font-size:1.25rem;font-weight:700;margin-bottom:1.5rem;display:flex;justify-content:space-between}
.count{font-size:.875rem;color:var(--text-secondary);background:var(--bg-tertiary);padding:.5rem 1rem;border-radius:20px}
.item{background:var(--bg-tertiary);padding:1.25rem;margin-bottom:1rem;border-radius:6px;border-left:4px solid var(--border-color)}
.item:hover{border-left-color:var(--text-primary)}
.path{color:var(--accent-convert);font-weight:600;margin-bottom:.5rem;font-family:'Courier New',monospace}
.item-desc{color:var(--text-secondary);font-size:.938rem}
.values{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-top:1rem;padding-top:1rem;border-top:1px solid var(--border-color)}
.val-box{background:var(--bg-primary);padding:1rem;border-radius:6px;border:1px solid var(--border-color)}
.val-label{font-size:.75rem;font-weight:600;color:var(--text-secondary);margin-bottom:.5rem}
.val-content{color:var(--text-primary);font-family:'Courier New',monospace;font-size:.875rem}
.empty{text-align:center;padding:3rem;color:var(--text-secondary);font-size:1.125rem}
@media (max-width:1024px){
.main{grid-template-columns:1fr}
.mode{border-right:none;border-bottom:1px solid var(--border-color)}
.grid,.controls{grid-template-columns:1fr}
.stats{grid-template-columns:repeat(2,1fr)}
.arrow{transform:rotate(90deg)}
}
@media (max-width:640px){
.stats,.values{grid-template-columns:1fr}
}
</style>
</head>
<body>
<div class="landing" id="landing">
<div class="header">
<div class="logo"><h1>CoC</h1><p>Compare or Convert Data</p></div>
<div class="theme">
<span class="theme-label">Theme</span>
<div class="toggle" onclick="toggleTheme()"><div class="slider"></div></div>
</div>
</div>
<div class="main">
<div class="mode compare" onclick="selectMode('compare')">
<div class="icon">‚öñ</div>
<div class="title">COMPARE</div>
<div class="desc">Find differences, missing fields, and validation errors between two payloads.</div>
<ul class="features">
<li>Find missing tags</li>
<li>Detect validation errors</li>
<li>Highlight differences</li>
<li>JSON, XML & YAML</li>
</ul>
<button class="mode-btn">Start Comparing</button>
</div>
<div class="mode convert" onclick="selectMode('convert')">
<div class="icon">üîÑ</div>
<div class="title">CONVERT</div>
<div class="desc">Transform data between JSON, XML, and YAML formats with instant validation.</div>
<ul class="features">
<li>JSON to XML/YAML</li>
<li>XML to JSON/YAML</li>
<li>YAML to JSON/XML</li>
<li>Copy to clipboard</li>
</ul>
<button class="mode-btn">Start Converting</button>
</div>
</div>
</div>

<div class="work" id="compareArea">
<div class="work-header">
<button class="back" onclick="back()">‚Üê Back</button>
<div class="work-title cmp">COMPARE MODE</div>
<div class="theme"><div class="toggle" onclick="toggleTheme()"><div class="slider"></div></div></div>
</div>
<div class="format-bar">
<span class="format-label">Formats:</span>
<div class="check"><input type="checkbox" id="json1" checked><label for="json1">JSON</label></div>
<div class="check"><input type="checkbox" id="xml1"><label for="xml1">XML</label></div>
<div class="check"><input type="checkbox" id="yaml1"><label for="yaml1">YAML</label></div>
</div>
<div class="content">
<div class="grid">
<div class="panel">
<div class="panel-header"><span>Payload 1</span><span class="char" id="c1">0 chars</span></div>
<textarea id="p1" placeholder='{"user":{"id":1,"name":"John"}}'></textarea>
</div>
<div class="panel">
<div class="panel-header"><span>Payload 2</span><span class="char" id="c2">0 chars</span></div>
<textarea id="p2" placeholder='{"user":{"id":1,"name":"Jane"},"premium":true}'></textarea>
</div>
</div>
<div class="actions">
<button class="btn btn-primary cmp" onclick="compare()">Analyze</button>
<button class="btn btn-secondary" onclick="clearCmp()">Clear</button>
</div>
<div class="results" id="res"></div>
</div>
</div>

<div class="work" id="convertArea">
<div class="work-header">
<button class="back" onclick="back()">‚Üê Back</button>
<div class="work-title cnv">CONVERT MODE</div>
<div class="theme"><div class="toggle" onclick="toggleTheme()"><div class="slider"></div></div></div>
</div>
<div class="content">
<div class="controls">
<div class="selector">
<label>From</label>
<select id="from">
<option value="json">JSON</option>
<option value="xml">XML</option>
<option value="yaml">YAML</option>
</select>
</div>
<div class="arrow">‚Üí</div>
<div class="selector">
<label>To</label>
<select id="to">
<option value="xml">XML</option>
<option value="json">JSON</option>
<option value="yaml">YAML</option>
</select>
</div>
</div>
<div class="grid">
<div class="panel">
<div class="panel-header"><span>Input</span><span class="char" id="c3">0 chars</span></div>
<textarea id="input" placeholder='{"name":"John","age":30}'></textarea>
</div>
<div class="panel out">
<div class="panel-header"><span>Output</span></div>
<textarea id="output" readonly placeholder="Output..."></textarea>
</div>
</div>
<div class="actions">
<button class="btn btn-primary cnv" onclick="convert()">Convert</button>
<button class="btn btn-secondary" onclick="copy()">Copy</button>
<button class="btn btn-secondary" onclick="clearCnv()">Clear</button>
</div>
</div>
</div>

<script>
function toggleTheme(){const t=document.documentElement.getAttribute('data-theme'),n=t==='dark'?'light':'dark';document.documentElement.setAttribute('data-theme',n);localStorage.setItem('theme',n)}
function initTheme(){const s=localStorage.getItem('theme'),t=s||(window.matchMedia('(prefers-color-scheme:dark)').matches?'dark':'light');document.documentElement.setAttribute('data-theme',t)}
initTheme();
function selectMode(m){document.getElementById('landing').classList.add('hidden');document.getElementById(m+'Area').classList.add('active')}
function back(){document.getElementById('landing').classList.remove('hidden');document.getElementById('compareArea').classList.remove('active');document.getElementById('convertArea').classList.remove('active')}
document.getElementById('p1').oninput=e=>document.getElementById('c1').textContent=e.target.value.length+' chars';
document.getElementById('p2').oninput=e=>document.getElementById('c2').textContent=e.target.value.length+' chars';
document.getElementById('input').oninput=e=>document.getElementById('c3').textContent=e.target.value.length+' chars';
function clearCmp(){document.getElementById('p1').value='';document.getElementById('p2').value='';document.getElementById('c1').textContent='0 chars';document.getElementById('c2').textContent='0 chars';document.getElementById('res').classList.remove('active');document.getElementById('res').innerHTML=''}
function clearCnv(){document.getElementById('input').value='';document.getElementById('output').value='';document.getElementById('c3').textContent='0 chars'}
function parse(t,f){for(let fmt of f){try{if(fmt==='json')return{data:JSON.parse(t),format:'json'}}catch(e){}}return null}
function getPaths(o,p=''){const paths=new Set();function traverse(c,path){if(c===null||c===undefined){paths.add(path);return}if(typeof c==='object'&&!Array.isArray(c)){for(let k in c){traverse(c[k],path?`${path}.${k}`:k)}if(Object.keys(c).length===0)paths.add(path)}else if(Array.isArray(c)){c.forEach((i,idx)=>traverse(i,`${path}[${idx}]`));if(c.length===0)paths.add(path)}else{paths.add(path)}}traverse(o,p);return Array.from(paths)}
function getValue(o,p){const parts=p.split(/\.|\[|\]/).filter(x=>x!=='');let c=o;for(let pt of parts){if(c===null||c===undefined)return undefined;c=c[pt]}return c}
function compare(){const p1=document.getElementById('p1').value.trim(),p2=document.getElementById('p2').value.trim();const formats=[];if(document.getElementById('json1').checked)formats.push('json');if(document.getElementById('xml1').checked)formats.push('xml');if(document.getElementById('yaml1').checked)formats.push('yaml');if(!p1||!p2){alert('Please enter both payloads');return}const parsed1=parse(p1,formats),parsed2=parse(p2,formats);if(!parsed1||!parsed2){alert('Failed to parse');return}const paths1=getPaths(parsed1.data),paths2=getPaths(parsed2.data);const missing2=paths1.filter(p=>!paths2.includes(p)),missing1=paths2.filter(p=>!paths1.includes(p));const mismatches=[];const common=paths1.filter(p=>paths2.includes(p));for(let path of common){const v1=getValue(parsed1.data,path),v2=getValue(parsed2.data,path);if(JSON.stringify(v1)!==JSON.stringify(v2)){mismatches.push({path,value1:v1,value2:v2})}}showResults({missing1,missing2,mismatches})}
function showResults(r){const container=document.getElementById('res');const total=r.missing1.length+r.missing2.length+r.mismatches.length;let html=`<div class="stats"><div class="stat"><div class="stat-val">${total}</div><div class="stat-label">Total Issues</div></div><div class="stat"><div class="stat-val">${r.missing1.length+r.missing2.length}</div><div class="stat-label">Missing</div></div><div class="stat"><div class="stat-val">0</div><div class="stat-label">Validation</div></div><div class="stat"><div class="stat-val">${r.mismatches.length}</div><div class="stat-label">Mismatches</div></div></div>`;if(r.missing2.length>0){html+=`<div class="section missing"><div class="section-header"><span>Missing in Payload 2</span><span class="count">${r.missing2.length}</span></div>${r.missing2.map(p=>`<div class="item"><div class="path">${p}</div><div class="item-desc">Exists in 1 but missing in 2</div></div>`).join('')}</div>`}if(r.missing1.length>0){html+=`<div class="section missing"><div class="section-header"><span>Missing in Payload 1</span><span class="count">${r.missing1.length}</span></div>${r.missing1.map(p=>`<div class="item"><div class="path">${p}</div><div class="item-desc">Exists in 2 but missing in 1</div></div>`).join('')}</div>`}if(r.mismatches.length>0){html+=`<div class="section mismatch"><div class="section-header"><span>Value Mismatches</span><span class="count">${r.mismatches.length}</span></div>${r.mismatches.map(m=>`<div class="item"><div class="path">${m.path}</div><div class="item-desc">Values differ</div><div class="values"><div class="val-box"><div class="val-label">Payload 1</div><div class="val-content">${JSON.stringify(m.value1)}</div></div><div class="val-box"><div class="val-label">Payload 2</div><div class="val-content">${JSON.stringify(m.value2)}</div></div></div></div>`).join('')}</div>`}if(total===0){html+=`<div class="section"><div class="section-header"><span>‚úì All Checks Passed</span></div><div class="empty">Payloads are identical</div></div>`}container.innerHTML=html;container.classList.add('active')}
function jsonToXml(o,r='root'){let xml=`<?xml version="1.0"?>\n<${r}>`;function convert(d,i=1){const ind='  '.repeat(i);let res='';if(typeof d==='object'&&d!==null&&!Array.isArray(d)){for(let k in d){const v=d[k];res+=`\n${ind}<${k}>`;if(typeof v==='object'&&v!==null){res+=convert(v,i+1);res+=`\n${ind}`}else{res+=String(v)}res+=`</${k}>`}}return res}xml+=convert(o);xml+=`\n</${r}>`;return xml}
function jsonToYaml(o,i=0){const sp='  '.repeat(i);let yaml='';if(typeof o==='object'&&o!==null&&!Array.isArray(o)){for(let k in o){const v=o[k];if(typeof v==='object'&&v!==null){yaml+=`${sp}${k}:\n`;yaml+=jsonToYaml(v,i+1)}else{yaml+=`${sp}${k}: ${v}\n`}}}return yaml}
function convert(){const from=document.getElementById('from').value,to=document.getElementById('to').value,input=document.getElementById('input').value.trim();if(!input){alert('Enter data');return}if(from===to){alert('Source and target must differ');return}try{let parsed;if(from==='json'){parsed=JSON.parse(input)}let out;if(to==='json'){out=JSON.stringify(parsed,null,2)}else if(to==='xml'){out=jsonToXml(parsed)}else if(to==='yaml'){out=jsonToYaml(parsed)}document.getElementById('output').value=out}catch(e){alert('Failed: '+e.message)}}
function copy(){const out=document.getElementById('output');if(!out.value){alert('No output');return}out.select();document.execCommand('copy');alert('Copied!')}
</script>
</body>
</html>
